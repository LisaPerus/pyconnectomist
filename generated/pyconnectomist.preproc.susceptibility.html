<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
    <title>PYCONNECTOMIST &mdash; pyConnectomist</title>
  <!-- htmltitle is before nature.css - we use this hack to load bootstrap first -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../_static/css/bootstrap.min.css" media="screen" />

    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="pyConnectomist" href="../index.html" />
  
   
       <script type="text/javascript" src="../_static/sidebar.js"></script>
   
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="../_static/js/bootstrap.min.js" type="text/javascript"></script>

  <script src="../_static/js/angular.min.js" type="text/javascript"></script>
  <script type="text/javascript">
    var app = angular.module("navApp", []);
    app.controller('navCtrl', ['$scope', '$window', function($scope, $window) {
      $scope.isActive = function (viewLocation) {
        var rel = $window.location.pathname.split("/")
        rel = rel[rel.length - 1]
        rel = rel.split(".")[0]
        var active = (viewLocation === rel);
        return active;};
    }]);
  </script>

  </head>
  <body role="document"><div class="banner">
  <div class="container-fluid banner-container">
    <div class="row banner-inner">
      <div class="col-xs-4">
        <img alt="Logo" src="../_static/pyconnectomist.png">
      </div>
      <div class="col-xs-8">
            <p>Using Connectomist in Python.</p>
      </div>
    </div>  
  </div>
</div><nav class="navbar navbar-default navbar-static-top">
  <div class="container-fluid">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
        </a>
    </div>
    <div id="navbar" class="navbar-collapse collapse" ng-controller="navCtrl" ng-app="navApp">
      <ul class="nav navbar-nav">
        <li ng-class="{ active: isActive('index') }"><a href="../index.html">Home</a></li>
        <li ng-class="{ active: isActive('installation') }"><a href="installation.html">Installation</a></li>
        <li ng-class="{ active: isActive('gallery') }"><a href="../auto_gallery/gallery.html">Gallery</a></li>
        <li ng-class="{ active: isActive('documentation') }"><a href="documentation.html">API documentation</a></li>
        <!--<li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> <span class="caret"></span></a>
          <ul class="dropdown-menu">
	        <li><a href="pyconnectomist.html">Pyconnectomist</a></li>
<li><a href="pyconnectomist.tractography.html">Pyconnectomist.tractography</a></li>
<li><a href="pyconnectomist.clustering.html">Pyconnectomist.clustering</a></li>
<li><a href="pyconnectomist.utils.html">Pyconnectomist.utils</a></li>
<li><a href="pyconnectomist.preproc.html">Pyconnectomist.preproc</a></li>
          </ul>
        </li>-->
        <li><a href="https://github.com/AGrigis/pysphinxdoc">PYSPHINXDOC</a></li>
      </ul>
    </div>
  </div>
</nav>
<div class="content-wrapper">
    <div class="sphinxsidebar">
      <div class="sphinxsidebarwrapper">

        <!-- info setup -->
          <p class="doc-version">
           This documentation is for pyconnectomist <strong>version 2.0.0</strong>
          </p>
        <p class="citing">
          If you use the software, please do not esitate to 
          <a &mdash; <a href="https://github.com/neurospin/pyconnectomist">
          Report a Bug</a>.
        </p>

      <!-- toc tree -->
      <ul class="simple">
</ul>


      </div>
    </div>
  

  <div class="content">
      
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-pyconnectomist.preproc.susceptibility"></span><p>Wrapper to Connectomist&#8217;s &#8216;Susceptibility&#8217; tab.</p>
<dl class="function">
<dt id="pyconnectomist.preproc.susceptibility.check_brainsuite_installation">
<code class="descclassname">pyconnectomist.preproc.susceptibility.</code><code class="descname">check_brainsuite_installation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyconnectomist/preproc/susceptibility.html#check_brainsuite_installation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyconnectomist.preproc.susceptibility.check_brainsuite_installation" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that Brainsuite commands, &#8216;bfc&#8217; and &#8216;bdp.sh&#8217;, are executable.
If not raise an Exception.</p>
</dd></dl>

<dl class="function">
<dt id="pyconnectomist.preproc.susceptibility.susceptibility_correction">
<code class="descclassname">pyconnectomist.preproc.susceptibility.</code><code class="descname">susceptibility_correction</code><span class="sig-paren">(</span><em>outdir</em>, <em>raw_dwi_dir</em>, <em>rough_mask_dir</em>, <em>outliers_dir</em>, <em>subject_id</em>, <em>delta_TE</em>, <em>partial_fourier_factor</em>, <em>parallel_acceleration_factor</em>, <em>negative_sign=False</em>, <em>echo_spacing=None</em>, <em>EPI_factor=None</em>, <em>b0_field=3.0</em>, <em>water_fat_shift=4.68</em>, <em>path_connectomist='/volatile/PTK-6.0-Ubuntu-14.04LTS-x86_64/bin/connectomist'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyconnectomist/preproc/susceptibility.html#susceptibility_correction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyconnectomist.preproc.susceptibility.susceptibility_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to Connectomist&#8217;s &#8216;Susceptibility&#8217; tab.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outdir: str</strong></p>
<blockquote>
<div><p>path to Connectomist output work directory.</p>
</div></blockquote>
<p><strong>raw_dwi_dir: str</strong></p>
<blockquote>
<div><p>path to Connectomist Raw DWI folder.</p>
</div></blockquote>
<p><strong>rough_mask_dir: str</strong></p>
<blockquote>
<div><p>path to Connectomist Rough Mask folder.</p>
</div></blockquote>
<p><strong>outliers_dir: str</strong></p>
<blockquote>
<div><p>path to Connectomist Outliers folder.</p>
</div></blockquote>
<p><strong>subject_id: str</strong></p>
<blockquote>
<div><p>the subject code in study.</p>
</div></blockquote>
<p><strong>delta_TE: float</strong></p>
<blockquote>
<div><p>difference in seconds between the 2 echoes
in B0 magnitude map acquisition.</p>
</div></blockquote>
<p><strong>partial_fourier_factor: float (]0;1])</strong></p>
<blockquote>
<div><p>percentage of k-space plane acquired.</p>
</div></blockquote>
<p><strong>parallel_acceleration_factor: int</strong></p>
<blockquote>
<div><p>nb of parallel acquisition in k-space plane.</p>
</div></blockquote>
<p><strong>negative_sign: bool</strong></p>
<blockquote>
<div><p>if True invert direction of unwarping in
susceptibility-distortion correction.</p>
</div></blockquote>
<p><strong>echo_spacing: float</strong></p>
<blockquote>
<div><p>not for Philips, acquisition time in ms between
2 centers of 2 consecutively acquired lines in k-space.</p>
</div></blockquote>
<p><strong>EPI_factor: int</strong></p>
<blockquote>
<div><p>nb of echoes after one excitation (90 degrees),
i.e. echo train length.</p>
</div></blockquote>
<p><strong>b0_field: float</strong></p>
<blockquote>
<div><p>Philips only, B0 field intensity, by default 3.0.</p>
</div></blockquote>
<p><strong>water_fat_shift: float</strong></p>
<blockquote>
<div><p>Philips only, default 4.68 pixels.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">outdir: str</p>
<blockquote class="last">
<div><p>path to Connectomist&#8217;s output directory.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyconnectomist.preproc.susceptibility.susceptibility_correction_wo_fieldmap">
<code class="descclassname">pyconnectomist.preproc.susceptibility.</code><code class="descname">susceptibility_correction_wo_fieldmap</code><span class="sig-paren">(</span><em>outdir</em>, <em>t1</em>, <em>dwi</em>, <em>bval</em>, <em>bvec</em>, <em>subject_id</em>, <em>phase_enc_dir</em>, <em>t1_mask=None</em>, <em>nodif_mask=None</em>, <em>fsl_sh=None</em>, <em>nthread=4</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyconnectomist/preproc/susceptibility.html#susceptibility_correction_wo_fieldmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyconnectomist.preproc.susceptibility.susceptibility_correction_wo_fieldmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Assuming the beginning of the preprocessing was done with Connectomist
up to Eddy current and motion correction, we now want to make susceptbility
distortion correction without fieldmap using registration based
distortion correction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outdir: str</strong></p>
<blockquote>
<div><p>path to directory where to output.</p>
</div></blockquote>
<p><strong>t1: str</strong></p>
<blockquote>
<div><p>path to the T1 Nifti image.</p>
</div></blockquote>
<p><strong>dwi: str</strong></p>
<blockquote>
<div><p>path to the preprocessed diffusion-weighted Nifti image.</p>
</div></blockquote>
<p><strong>bval: str</strong></p>
<blockquote>
<div><p>path to the bval file associated to the DWI image.</p>
</div></blockquote>
<p><strong>bvec: str</strong></p>
<blockquote>
<div><p>path to the bvec file associated to the DWI image.</p>
</div></blockquote>
<p><strong>subject_id: str</strong></p>
<blockquote>
<div><p>the subject code in study.</p>
</div></blockquote>
<p><strong>phase_enc_dir: str</strong></p>
<blockquote>
<div><p>in plane phase encoding direction, &#8216;y&#8217;, or &#8216;x&#8217;.</p>
</div></blockquote>
<p><strong>t1_mask: str, default None</strong></p>
<blockquote>
<div><p>path to the t1 brain mask image.</p>
</div></blockquote>
<p><strong>nodif_mask: str, default None</strong></p>
<blockquote>
<div><p>path to the nodif brain mask image.</p>
</div></blockquote>
<p><strong>fsl_sh: str, default None</strong></p>
<blockquote>
<div><p>path to the FSL configuration file.</p>
</div></blockquote>
<p><strong>nthread: int, default 4</strong></p>
<blockquote>
<div><p>number of threads to be used (see bdp.sh &#8211;thread flag).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dwi_wo_susceptibility: str</p>
<blockquote>
<div><p>path to the corrected diffusion-weighted Nifti image.</p>
</div></blockquote>
<p>bval: str</p>
<blockquote>
<div><p>path to the bval file associated to the DWI image.</p>
</div></blockquote>
<p>bvec: str</p>
<blockquote>
<div><p>path to the bvec file associated to the DWI image.</p>
</div></blockquote>
<p>t1_in_dwi_space: str</p>
<blockquote>
<div><p>bias field corrected image in diffusion coordinates.</p>
</div></blockquote>
<p>bo_in_t1_space: str</p>
<blockquote>
<div><p>b=0 image in T1 coordinates.</p>
</div></blockquote>
<p>t1_brain: str</p>
<blockquote class="last">
<div><p>the T1 brain image.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>



          </div>
        </div>
      </div>

    <div class="clearer">
    </div>
  </div>
  
</div>

<div class="footer">
    &copy; 2017, pyConnectomist developers &lt;antoine.grigis@cea.fr&gt;.
</div>
  </body>
</html>